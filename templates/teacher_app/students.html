{% extends 'base.html' %}
{% block title %}–£—á–∏—Ç–µ–ª—å—Å–∫–∞—è - –°—Ç—É–¥–µ–Ω—Ç—ã{% endblock %}
{% block content %}
<div class="container">
  <h1>üë• –°—Ç—É–¥–µ–Ω—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
  <p style="color:#7f8c8d; margin-bottom:15px;">–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É—Ä–æ–∫–∞–º, —É—Ä–æ–≤–Ω–∏ –∏ XP.</p>

  <div class="modules-list" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:15px;">
    {% for item in student_stats %}
    <div class="module-card" style="background:#fff;border-radius:8px;padding:15px;box-shadow:0 2px 10px rgba(0,0,0,0.08);">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h3 style="color:#2c3e50;">{{ item.user.username }}</h3>
        <span style="background:#ecf0f1;padding:6px 10px;border-radius:14px;font-size:0.85em;">Lvl {{ item.level }}</span>
      </div>
      <p style="color:#7f8c8d; font-size:0.95em;">XP: {{ item.xp }}</p>
      <p style="color:#7f8c8d; font-size:0.95em;">–ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Ä–æ–∫–æ–≤: {{ item.completed_lessons }} / {{ item.total_lessons }}</p>
      <div style="background:#ecf0f1; border-radius:12px; height:14px; overflow:hidden;">
        <div style="height:100%; width:{{ item.progress_percent }}%; background:linear-gradient(90deg,#27ae60,#2ecc71);"></div>
      </div>
    </div>
    {% empty %}
    <p>–ü–æ–∫–∞ –Ω–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
